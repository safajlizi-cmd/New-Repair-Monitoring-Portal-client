<div class="row" >
  <div class="example-wrapper">
     <div  class="header">
        <div class="split1"> <p [ngClass]="dossier?.dossierStatus?.longName=='InPreparation' ? 'primary':dossier?.dossierStatus?.longName=='Completed'?'done2':'inprog'"> {{dossier?.dossierStatus.longName}}<span class="inactive" *ngIf="dossier.active== false"> [Inactive]</span></p>  </div>
        <div class="split2"> Duped Name :  {{dossier?.dupedName}} </div>
        <div  class="split2"> {{dossier?.dossierNumber}}</div>
        <div  class="split2">  Created at : <span class="date"><kendo-svg-icon [icon]="icons.trash"></kendo-svg-icon> {{dossier?.createdDate|date: 'MM/dd/yyyy' }} </span>
        </div>
        <div class="split2">
           Created By : <span class="date"><kendo-avatar fillMode="outline" class="avatar"
                 *ngIf="dossier?.createdBy?.userName != null ">
                 <span style="font-size:15px;">{{ dossier?.createdBy?.firstName[0] }}{{dossier?.createdBy?.lastName[0] }}</span>
              </kendo-avatar> {{ dossier?.createdBy?.userName }}</span>
        </div>
     </div>
  </div>
</div>
<div class="row p-2 ">
<div class="col-lg-4 row2">
  <div class="treeview js-treeview">
     <ul>
       <li>
         <div class="treeview__level" data-level="D">
           <span class="level-title" routerLinkActive="active" routerLink="./Overview"
           [routerLinkActiveOptions] ="{exact:true}" >{{dossier.dossierNumber}} DN: {{dossier?.dupedName}} </span>
           <div class="treeview__level-btns">
              <span kendoTooltip title="Add Assignment">
             <div class="btn btn-default btn-sm level-add" (click)="open()"><span class="k-icon k-i-plus-circle"></span></div></span>
           </div>
         </div>
         <ul>
           <li *ngIf="Assignments.length == 0">
              <div class="treeview__level" data-level="A">
                <span class="level-title" >No Details available</span>
                </div>
            </li>
           <li *ngFor="let item of Assignments">
             <div class="treeview__level" data-level="A">
               <span class="level-title" routerLinkActive="active" routerLink="./Assignment/{{item.id}}"
               [routerLinkActiveOptions] ="{exact:true}" >{{item.assignmentNumber}} {{item.cause}} </span>
               <div class="treeview__level-btns">
                 <span kendoTooltip title="Add WorkingOrder">
                 <div class="btn btn-default btn-sm level-add" (click)="openWo(item.id)"><span class="k-icon k-i-plus-circle"></span></div></span>
               </div>
             </div>
             <ul>
               <li  *ngFor="let itemW of item.workingOrdersC">
                 <div class="treeview__level" data-level="W">
                   <span class="level-title" routerLinkActive="active" routerLink="./Word/{{itemW.id}}"
                   [routerLinkActiveOptions] ="{exact:true}">{{itemW.woNumber}}</span>
                 </div>
               </li>
             </ul>
           </li>
   
         </ul>
       </li>
     </ul>
   </div>
</div>
<div class="col-lg-8 buttom" style="overflow-y: auto;">  
   
  <router-outlet></router-outlet>
</div>
</div>
<kendo-dialog title="Add Assignment" *ngIf="openedassy" (close)="close('cancel')" [themeColor]="'dark'" [minWidth]="250" class="diag"
[width]="450">
<form [formGroup]="AssignForm">
  <div class="form-group">
     <label for="title">Product Name:</label>
     <input type="text" class="form-control" id="product" formControlName="product"
        placeholder="Title">
     <div
        *ngIf="AssignForm.controls['product'].invalid && (AssignForm.controls['product'].dirty || AssignForm.controls['product'].touched)"
        class="alert alert-danger">
        <div *ngIf="AssignForm.hasError('required','product')">ProductName is required.
        </div>
     </div>
  </div>
  
  <table style="width:100% " cellspacing="0">
   <tr>
      <td style="width:50% ">
         <div class="form-group">
            <label for="Â²e">Cause:</label>
            <select class="form-control" id="cause" formControlName="cause">
               <option *ngFor="let item of causes" [value]=" item.longName">{{ item.longName }}
               </option>
            </select>
         </div>
      </td>
      <td style="width:50% ">
         <div class="form-group">
            <label for="Building type">Building type:</label>
            <select class="form-control" id="buildingType" formControlName="buildingType">
               <option *ngFor="let  item of bts" [value]=" item.longName">{{ item.longName }}
               </option>
            </select>
         </div>
      </td>
   </tr>
</table>
  <kendo-dialog-actions style="border:none;margin-top: 20px;">
     <button kendoButton (click)="close('no')" class="cancel">Cancel</button>
     <button kendoButton (click)="onSubmit()" class="bt"
        [disabled]="AssignForm.invalid">
        Add Assignment
     </button>
  </kendo-dialog-actions>
</form>

</kendo-dialog>
<kendo-dialog title="Add Working Order" *ngIf="opened" (close)="close('cancel')" [themeColor]="'dark'"class="diag"
[minWidth]="250" [width]="450">
<form [formGroup]="WOForm">    
 <table style="width:100% " cellspacing="0">
    <tr>
       <td style="width:50% ">
          <div class="form-group">
             <label for="DamageType">DamageType:</label>
             <select class="form-control" id="damageTypeId" formControlName="damageTypeId">
                <option *ngFor="let item of damageTypes" [value]=" item.id">{{ item.longName }}
                </option>
             </select>
          </div>
       </td>
       <td style="width:50% ">
          <div class="form-group">
             <label for="Material">Material:</label>
             <select class="form-control" id="materialId" formControlName="materialId">
                <option *ngFor="let  item of Materials" [value]=" item.id">{{ item.longName }}
                </option>
             </select>
          </div>
       </td>
    </tr>
 </table>
 <div class="form-group">
    <label for="dossier">Location:</label>
    <select class="form-control" id="locationId" formControlName="locationId">
       <option *ngFor="let  item of Locations" [value]=" item.id">{{ item.longName }}
       </option>
    </select>
 </div>

 <kendo-dialog-actions style="border:none;margin-top: 20px;">
    <button kendoButton (click)="close('no')" class="cancel">Cancel</button>
    <button kendoButton (click)="AddWorkingOrder()" class="bt"
       [disabled]="WOForm.invalid">
       Add Working Order
    </button>
 </kendo-dialog-actions>
</form>

</kendo-dialog>