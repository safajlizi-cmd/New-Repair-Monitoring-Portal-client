<kendo-dialog-titlebar>
  <div style="font-size: 18px; line-height: 1.3em;">
    <span class="k-icon k-i-form-element"></span> Add Sub-Task
  </div>
</kendo-dialog-titlebar>
<div class="container">
  <form [formGroup]="taskForm">
    <div class="form-group">
      <label for="title">Title:</label>
      <input type="text" class="form-control" id="title" formControlName="title" placeholder="Title">
      <div
        *ngIf="taskForm.controls['title'].invalid && (taskForm.controls['title'].dirty || taskForm.controls['title'].touched)"
        class="alert alert-danger">
        <div *ngIf="taskForm.hasError('required','title')">Title is required.</div>
      </div>
    </div>
    <div class="form-group">
      <label for="title">Assign to :</label>
      <label> <input type="radio" value="dossier" formControlName="option"> Dossier</label>
      <label> <input type="radio" value="assignment" formControlName="option"> Assignment </label>
      <label> <input type="radio" value="workingOrder" formControlName="option"> Working Order</label>
      <div *ngIf="taskForm.get('option')!.value === 'assignment'">
        <div *ngIf="assignments.length ==0"> <b class="small"> No Assignment available!</b> </div>
        <div *ngIf="assignments.length >0">
          <label for="title">Select Assignment :</label>
          <kendo-multicolumncombobox class="kendo" [data]="assignments" textField="assignmentNumber" class="my-combobox"
            valueField="id" placeholder="Select AssignmentNumber ..." formControlName="optionId" [filterable]="true"
            (valueChange)="onSelected($event)">
            <kendo-combobox-column field="assignmentNumber" title="Assignment Number" [width]="150">
            </kendo-combobox-column>
          </kendo-multicolumncombobox>
        </div>
      </div>
      <div *ngIf="taskForm.get('option')!.value === 'workingOrder'">
        <div *ngIf="word.length ==0"> <b class="small"> No working order available!</b></div>
        <div *ngIf="word.length >0">
          <label for="title">Select WorkingOrder :</label>
          <kendo-multicolumncombobox class="kendo" [data]="word" textField="woNumber" class="my-combobox"
            valueField="id" placeholder="Select WorkingOrder Number ..." formControlName="optionId" [filterable]="true"
            (valueChange)="onSelected($event)">
            <kendo-combobox-column field="woNumber" title="WorkingOrder Number" [width]="150">
            </kendo-combobox-column>
          </kendo-multicolumncombobox>
        </div>
      </div>
    </div>
    <div class="form-group">
      <label for="deadline">Deadline:</label>
      <input type="date" class="form-control" id="deadline" formControlName="deadline">
      <div
        *ngIf="taskForm.controls['deadline'].invalid && (taskForm.controls['deadline'].dirty || taskForm.controls['deadline'].touched)"
        class="alert alert-danger">
        <div *ngIf="taskForm.hasError('required','deadline')">Deadline is required.</div>
      </div>
    </div>
    <div class="form-group form-check">
      <input type="checkbox" class="form-check-input" id="emergency" formControlName="emergency">
      <label class="form-check-label" for="emergency">IsEmergency</label>
    </div>

  </form>
</div>
<kendo-dialog-actions>
  <button kendoButton (click)="close()">Cancel</button>
  <button kendoButton (click)="onSubmit()" style="background-color: #3899DD;color: #fff;" [disabled]="taskForm.invalid">
    Add Task
  </button>
</kendo-dialog-actions>