<div style="border:none">
    <div class="card" style="border:none">
        <div class="card-block k-form">
            <fieldset>
                <legend class="titlle">Unassigned tasks</legend>
                <div class="k-form-field">
                </div>
            </fieldset>
        </div>
    </div>
</div>
<kendo-grid [data]="tasks" [selectable]="selectableSettings" [navigable]="true" [height]="600"
    (selectionChange)="onSelectionChange($event)">
    <kendo-grid-checkbox-column title="Select Tasks">
        <ng-template kendoGridHeaderTemplate>
            <span kendoTooltip title="Confirm  the tasks you want to assigned to yourself">
                <button kendoButton class="button" (click)="confirmSelection()">Confirm
                    Selection</button></span>
        </ng-template>
    </kendo-grid-checkbox-column>
    <kendo-grid-column field="taskNumber" title="Task number">
        <ng-template kendoGridCellTemplate let-dataItem>
            <p style="color:#86BC35; font-weight: bold;">
                {{ dataItem.taskNumber}}</p>
        </ng-template>
    </kendo-grid-column>
    <kendo-grid-column field="dossierC.dossierNumber" title="Dossier number">
        <ng-template kendoGridCellTemplate let-dataItem>
            <p style="color:#49651e; font-weight: bold;">
                {{ dataItem.dossierC.dossierNumber}}</p>
        </ng-template>
    </kendo-grid-column>
    <kendo-grid-column field="title" title="Task title"></kendo-grid-column>
    <kendo-grid-column field="createdDate" title="Created Date">
        <ng-template kendoGridCellTemplate let-dataItem>
            <p style="color:#cdc66f">
                {{ dataItem.createdDate | date: 'MM/dd/yyyy' }}
            </p>
        </ng-template>
    </kendo-grid-column>
    <kendo-grid-column field="createdBy." title="CreatedBy">
        <ng-template kendoGridCellTemplate let-dataItem>
            <kendo-avatar fillMode="outline" class="avatar" *ngIf="dataItem.createdBy?.userName != null ">
                <span style="font-size:7px;">{{ dataItem.createdBy?.firstName[0] }}{{ dataItem.createdBy?.lastName[0]
                    }}</span>
            </kendo-avatar> {{ dataItem.createdBy?.userName }}
        </ng-template>
    </kendo-grid-column>
</kendo-grid>
<kendo-dialog title="Assign Task to" *ngIf="opened" (close)="close('cancel')" [minWidth]="250" [width]="450" [themeColor]="'dark'" >
    <form [formGroup]="AssigForm" >
        <div class="form-group form-check">
            <kendo-multicolumncombobox [data]="data" textField="userName" class="my-combobox" valueField="id"
                placeholder="Assign task to ..." [filterable]="true" (filterChange)="handleFilterChange($event)"
                (valueChange)="onSelectedUser($event)" id>
                <kendo-combobox-column field="email" title="email" [width]="150">
                </kendo-combobox-column>
                <kendo-combobox-column field="firstName" title="Name" [width]="90">
                </kendo-combobox-column>
                <kendo-combobox-column field="lastName" title="Title" [width]="90">
                </kendo-combobox-column>
            </kendo-multicolumncombobox>
        </div>
        <div class="form-group form-check">
            <input type="checkbox" class="form-check-input" id="Assigned" formControlName="Assigned">
            <label class="form-check-label" for="Assigned"> Assign task to yourself?</label>
        </div>

        <kendo-dialog-actions style="border:none;margin-top: 20px;">
            <button kendoButton (click)="close('no')">Cancel</button>
            <button kendoButton (click)="addAssign()" class="bt" [disabled]="AssigForm.invalid">
                Assign task
            </button>
        </kendo-dialog-actions>
    </form>
</kendo-dialog>